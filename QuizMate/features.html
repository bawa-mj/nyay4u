<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Law & Constitution Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-image: linear-gradient(to right, #6366f1, #8b5cf6);
        }
        #quiz-container {
            background-color: white;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
            animation: fadeIn 1s ease-in-out;
        }
        .cta-button, .secondary-button {
            box-shadow: 0 4px 15px rgba(100, 116, 139, 0.3);
            transition: all 0.3s ease;
            border: none;
        }
        .cta-button {
            background-image: linear-gradient(to right, #6366f1, #8b5cf6);
            color: white;
        }
        .cta-button:hover, .secondary-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(100, 116, 139, 0.4);
        }
        .secondary-button {
            background-color: #e2e8f0;
            color: #475569;
        }
        .option-button {
            background-color: #f1f5f9; /* slate-100 */
            border: 1px solid #cbd5e1; /* slate-300 */
            transition: all 0.2s ease-in-out;
        }
        .option-button:hover:not(.disabled) {
            transform: scale(1.02);
            background-color: #e2e8f0; /* slate-200 */
            border-color: #6366f1; /* indigo-500 */
        }
        .correct {
            background-color: #10B981 !important;
            color: white !important;
            border-color: #10B981 !important;
            animation: bounceIn 0.5s;
        }
        .incorrect {
            background-color: #EF4444 !important;
            color: white !important;
            border-color: #EF4444 !important;
            animation: shake 0.5s;
        }
        .disabled {
            pointer-events: none;
            opacity: 0.7;
        }
        #explanation-box {
            background-color: #f8fafc; /* slate-50 */
            border: 1px solid #e2e8f0; /* slate-200 */
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounceIn {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="text-slate-800 p-8 md:p-12 rounded-3xl w-full max-w-2xl">
        <h1 id="game-title" class="text-3xl md:text-4xl font-extrabold text-center mb-6 bg-gradient-to-r from-indigo-500 to-violet-500 text-transparent bg-clip-text">Indian Law & Constitution Quiz</h1>

        <!-- Start Screen -->
        <div id="start-screen" class="text-center">
            <p class="text-xl mb-8 text-slate-600">Test your knowledge of Indian law and the constitution! Let's see if you can become a legal scholar.</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button id="start-btn" class="cta-button font-bold py-3 px-8 rounded-xl w-full sm:w-auto">Start Quiz</button>
                <button id="leaderboard-btn-start" class="secondary-button font-bold py-3 px-8 rounded-xl w-full sm:w-auto">Leaderboard</button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <!-- ... (quiz content remains the same) ... -->
            <div class="flex flex-wrap justify-between items-center mb-4 gap-2 text-sm md:text-base">
                <span id="score-display" class="bg-green-100 text-green-800 text-xs font-bold px-3 py-1 rounded-full">Score: 0</span>
                <span id="level-display" class="bg-indigo-100 text-indigo-800 text-xs font-bold px-3 py-1 rounded-full">Level: Beginner</span>
                <span id="question-count" class="bg-slate-100 text-slate-800 text-xs font-bold px-3 py-1 rounded-full">Question 1 of 15</span>
            </div>
            <div class="w-full bg-slate-200 rounded-full h-2.5 mb-6 shadow-inner">
                <div id="progress-bar" class="bg-indigo-500 h-2.5 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
            </div>
            <p id="question-text" class="text-lg md:text-xl text-slate-900 font-semibold mb-6 min-h-[80px]"></p>
            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"></div>
            <div id="explanation-box" class="hidden p-4 rounded-lg mt-4 shadow-inner">
                <h3 class="font-bold mb-2 text-indigo-600">Explanation:</h3>
                <p id="explanation-text" class="text-sm md:text-base text-slate-600"></p>
            </div>
        </div>

        <!-- End Screen -->
        <div id="end-screen" class="hidden text-center">
            <h2 id="final-score-text" class="text-2xl md:text-3xl font-bold mb-4">Quiz Complete!</h2>
            <p id="final-score-display" class="text-xl md:text-2xl mb-6 font-semibold"></p>
            
            <form id="save-score-form" class="flex flex-col sm:flex-row gap-2 max-w-sm mx-auto mb-6">
                <input type="text" id="player-name" placeholder="Enter your name" class="flex-grow p-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500" required maxlength="15">
                <button type="submit" class="cta-button font-bold py-3 px-6 rounded-xl">Save Score</button>
            </form>

            <div id="end-screen-nav" class="hidden flex-col sm:flex-row gap-4 justify-center">
                 <button id="restart-btn" class="cta-button font-bold py-3 px-8 rounded-xl w-full sm:w-auto">Play Again</button>
                 <button id="leaderboard-btn-end" class="secondary-button font-bold py-3 px-8 rounded-xl w-full sm:w-auto">Leaderboard</button>
            </div>
        </div>

        <!-- Leaderboard Screen -->
        <div id="leaderboard-screen" class="hidden text-center">
            <h2 class="text-2xl md:text-3xl font-bold mb-6">Top 10 Scores</h2>
            <ol id="leaderboard-list" class="list-decimal list-inside text-left space-y-3 mb-8 bg-slate-50 p-6 rounded-xl shadow-inner"></ol>
            <button id="back-to-start-btn" class="cta-button font-bold py-3 px-8 rounded-xl">Back to Main Menu</button>
        </div>
    </div>

    <script>
        // Quiz questions categorized by level for Indian Law & Constitution.
        const allQuestions = [
            // ... (all questions remain the same) ...
            // Beginner
            {
                question: "When was the Constitution of India adopted?",
                options: ["15th August 1947", "26th November 1949", "26th January 1950", "2nd October 1948"],
                answer: 1,
                level: "Beginner",
                explanation: "The Constituent Assembly adopted the Constitution on November 26, 1949, which is celebrated as Constitution Day or National Law Day. It came into force on January 26, 1950."
            },
            {
                question: "Which of the following is NOT a Fundamental Right in the Constitution of India?",
                options: ["Right to Equality", "Right to Freedom", "Right to Property", "Right to Constitutional Remedies"],
                answer: 2,
                level: "Beginner",
                explanation: "The Right to Property was removed from the list of Fundamental Rights by the 44th Amendment Act, 1978. It is now a legal right under Article 300A."
            },
            {
                question: "What does the term 'Republic' in the Preamble of the Indian Constitution mean?",
                options: ["Rule by the people", "Hereditary Head of State", "Elected Head of State", "Rule by a dictator"],
                answer: 2,
                level: "Beginner",
                explanation: "A 'Republic' means that the head of the state is not a hereditary monarch, but an elected person. In India, the President is the elected Head of State."
            },
            {
                question: "How many schedules are there in the Constitution of India?",
                options: ["10", "12", "15", "18"],
                answer: 1,
                level: "Beginner",
                explanation: "The Constitution of India originally had 8 schedules. Four more schedules were added by various amendments, bringing the total to 12."
            },
            {
                question: "Which part of the Indian Constitution deals with Fundamental Duties?",
                options: ["Part II", "Part III", "Part IV", "Part IV A"],
                answer: 3,
                level: "Beginner",
                explanation: "Part IV A of the Constitution, added by the 42nd Amendment, deals with the Fundamental Duties of citizens, inspired by the Constitution of the erstwhile USSR."
            },
            {
                question: "Who is considered the 'Father of the Indian Constitution'?",
                options: ["Mahatma Gandhi", "Jawaharlal Nehru", "Dr. B.R. Ambedkar", "Sardar Patel"],
                answer: 2,
                level: "Beginner",
                explanation: "Dr. B.R. Ambedkar was the Chairman of the Drafting Committee of the Constitution and played a pivotal role in its creation."
            },
            {
                question: "The Parliament of India consists of which of the following?",
                options: ["Lok Sabha only", "Rajya Sabha only", "Lok Sabha, Rajya Sabha, and the President", "Lok Sabha, Rajya Sabha, and the Prime Minister"],
                answer: 2,
                level: "Beginner",
                explanation: "The Parliament is the supreme legislative body and is composed of the President, the Lok Sabha (House of the People), and the Rajya Sabha (Council of States)."
            },
            // Intermediate
            {
                question: "In the IPC, 'A, intending to murder Z, fires a rifle at Z. Z is not hit.' What offence has A committed?",
                options: ["Attempt to murder", "Assault", "No offence", "Criminal conspiracy"],
                answer: 0,
                level: "Intermediate",
                explanation: "Under Section 307 of the IPC, an attempt to commit murder is a punishable offense even if the intended victim is not harmed, as the intent and act were present."
            },
            {
                question: "Which section of the IPC defines 'criminal conspiracy'?",
                options: ["Section 120A", "Section 124A", "Section 302", "Section 420"],
                answer: 0,
                level: "Intermediate",
                explanation: "Section 120A of the IPC defines criminal conspiracy as an agreement between two or more persons to commit an illegal act or a legal act by illegal means."
            },
            {
                question: "What is the new name for the Indian Penal Code (IPC) under the new legislation?",
                options: ["Bhartiya Nagarik Suraksha Sanhita", "Bhartiya Nyaya Sanhita", "Bhartiya Sakshya Adhiniyam", "Bhartiya Dand Sanhita"],
                answer: 1,
                level: "Intermediate",
                explanation: "The Indian Penal Code (IPC) has been replaced by the Bhartiya Nyaya Sanhita (BNS) as part of the new criminal laws passed by the Indian Parliament in 2023."
            },
            {
                question: "Under the BNS, what is the new provision for sedition?",
                options: ["It has been completely repealed", "It is retained with a new name as 'offence against the state'", "It is now part of the Unlawful Activities (Prevention) Act", "It is merged with offenses of rioting"],
                answer: 1,
                level: "Intermediate",
                explanation: "Sedition has been repealed and replaced with a new provision under Section 152 of the Bhartiya Nyaya Sanhita (BNS), which addresses offenses against the state, including acts that endanger India's sovereignty, unity, and integrity."
            },
            {
                question: "Which of these is a recognized 'General Exception' from criminal liability under the IPC?",
                options: ["Intoxication (self-induced)", "Insanity", "Mistake of Law", "Sudden and grave provocation"],
                answer: 1,
                level: "Intermediate",
                explanation: "Insanity, a mental condition that prevents an accused from knowing the nature of their act, is a general exception under Section 84 of the IPC. The others are not general exceptions in the same way."
            },
            {
                question: "What is the legal term for a written order issued by a court, typically to compel a person to appear in court?",
                options: ["Habeas Corpus", "Writ", "Subpoena", "Summons"],
                answer: 2,
                level: "Intermediate",
                explanation: "A subpoena is a legal document ordering a person to attend court or to produce documents."
            },
            {
                question: "Which Article of the Constitution deals with the 'Right to Education'?",
                options: ["Article 19", "Article 21A", "Article 32", "Article 48"],
                answer: 1,
                level: "Intermediate",
                explanation: "Article 21A, inserted by the 86th Amendment Act of 2002, makes the right to free and compulsory education for children between the ages of 6 and 14 a Fundamental Right."
            },
            // Advanced
            {
                question: "The doctrine of 'Basic Structure' of the Constitution was propounded in which landmark case?",
                options: ["A. K. Gopalan v. State of Madras", "Kesavananda Bharati v. State of Kerala", "Minerva Mills v. Union of India", "S.R. Bommai v. Union of India"],
                answer: 1,
                level: "Advanced",
                explanation: "The Supreme Court of India in the Kesavananda Bharati case (1973) held that the Parliament can amend the Constitution, but cannot alter its 'basic structure'."
            },
            {
                question: "In the 'Indra Sawhney v. Union of India' case, what was the Supreme Court's verdict on reservations?",
                options: ["It abolished all reservations", "It upheld the 27% reservation for OBCs but capped total reservation at 50%", "It mandated reservations in all government jobs", "It declared reservations unconstitutional"],
                answer: 1,
                level: "Advanced",
                explanation: "This landmark 1992 case, also known as the 'Mandal Commission case', upheld the reservation for OBCs but imposed a 50% ceiling on total reservations for all categories."
            },
            {
                question: "Which case is known for establishing the right to life with human dignity under Article 21?",
                options: ["Menaka Gandhi v. Union of India", "ADM Jabalpur v. Shivkant Shukla", "K.S. Puttaswamy v. Union of India", "Vishakha v. State of Rajasthan"],
                answer: 0,
                level: "Advanced",
                explanation: "The Menaka Gandhi case (1978) significantly expanded the scope of Article 21, interpreting the 'right to life' to include the right to live with human dignity and personal liberty."
            },
            {
                question: "What legal principle was established in the 'S.R. Bommai v. Union of India' case (1994)?",
                options: ["Right to Privacy", "Judicial Review of Proclamation of President's Rule", "Separation of Powers", "Environmental Justice"],
                answer: 1,
                level: "Advanced",
                explanation: "This case established that the power of the President to dismiss a State Government under Article 356 is not absolute and is subject to judicial review by the Supreme Court."
            },
            {
                question: "The 'P.A. Inamdar v. State of Maharashtra' case relates to what legal issue?",
                options: ["Reservation in promotions", "Right to education", "Reservation in private unaided educational institutions", "Right to form cooperative societies"],
                answer: 2,
                level: "Advanced",
                explanation: "The case in 2005 dealt with the legality of reservations in unaided private educational institutions, holding that the state cannot impose its reservation policy on them."
            },
            {
                question: "The principle of 'Separation of Powers' is enshrined in which part of the Indian Constitution?",
                options: ["Preamble", "Fundamental Rights", "Directive Principles of State Policy", "It is not explicitly mentioned but implied"],
                answer: 3,
                level: "Advanced",
                explanation: "While not explicitly stated, the separation of powers is implied in the structure of the Constitution, which establishes three distinct branches: the legislature, executive, and judiciary."
            },
            {
                question: "Which case led to the recognition of the 'Right to Privacy' as a Fundamental Right in India?",
                options: ["Golaknath v. State of Punjab", "Kesavananda Bharati v. State of Kerala", "K.S. Puttaswamy v. Union of India", "Sajjan Singh v. State of Rajasthan"],
                answer: 2,
                level: "Advanced",
                explanation: "The Supreme Court's verdict in K.S. Puttaswamy v. Union of India (2017) declared that the Right to Privacy is a fundamental right under Article 21 of the Constitution."
            }
        ];

        // UI elements
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const endScreen = document.getElementById('end-screen');
        const leaderboardScreen = document.getElementById('leaderboard-screen');
        
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const leaderboardBtnStart = document.getElementById('leaderboard-btn-start');
        const leaderboardBtnEnd = document.getElementById('leaderboard-btn-end');
        const backToStartBtn = document.getElementById('back-to-start-btn');
        
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const scoreDisplay = document.getElementById('score-display');
        const levelDisplay = document.getElementById('level-display');
        const questionCount = document.getElementById('question-count');
        const finalScoreText = document.getElementById('final-score-text');
        const finalScoreDisplay = document.getElementById('final-score-display');
        const explanationBox = document.getElementById('explanation-box');
        const explanationText = document.getElementById('explanation-text');
        const progressBar = document.getElementById('progress-bar');
        
        const saveScoreForm = document.getElementById('save-score-form');
        const playerNameInput = document.getElementById('player-name');
        const endScreenNav = document.getElementById('end-screen-nav');
        const leaderboardList = document.getElementById('leaderboard-list');

        let questions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        const totalQuestionsForQuiz = 15;
        const LEADERBOARD_KEY = 'lawQuizLeaderboard';

        // --- View Management ---
        function showScreen(screen) {
            startScreen.classList.add('hidden');
            quizScreen.classList.add('hidden');
            endScreen.classList.add('hidden');
            leaderboardScreen.classList.add('hidden');
            screen.classList.remove('hidden');
        }

        // --- Game Logic ---
        function startGame() {
            const shuffledAllQuestions = shuffleArray(allQuestions);
            questions = shuffledAllQuestions.slice(0, totalQuestionsForQuiz);
            currentQuestionIndex = 0;
            score = 0;
            
            scoreDisplay.textContent = `Score: ${score}`;
            explanationBox.classList.add('hidden');
            
            showScreen(quizScreen);
            showQuestion();
        }

        function showQuestion() {
            const currentQuestion = questions[currentQuestionIndex];
            questionText.textContent = currentQuestion.question;
            levelDisplay.textContent = `Level: ${currentQuestion.level}`;
            questionCount.textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;

            const progressPercentage = ((currentQuestionIndex) / questions.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;

            optionsContainer.innerHTML = '';
            currentQuestion.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-button', 'text-slate-700', 'py-3', 'px-4', 'rounded-xl', 'font-semibold', 'text-left');
                button.addEventListener('click', () => checkAnswer(index));
                optionsContainer.appendChild(button);
            });

            explanationBox.classList.add('hidden');
        }

        function checkAnswer(selectedIndex) {
            const currentQuestion = questions[currentQuestionIndex];
            const optionButtons = optionsContainer.querySelectorAll('.option-button');
            const correctIndex = currentQuestion.answer;
            const selectedButton = optionButtons[selectedIndex];

            optionButtons.forEach(btn => btn.classList.add('disabled'));

            if (selectedIndex === correctIndex) {
                score++;
                scoreDisplay.textContent = `Score: ${score}`;
                selectedButton.classList.add('correct');
            } else {
                selectedButton.classList.add('incorrect');
                optionButtons[correctIndex].classList.add('correct');
            }

            explanationText.textContent = currentQuestion.explanation;
            explanationBox.classList.remove('hidden');

            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    showQuestion();
                } else {
                    endGame();
                }
            }, 3000);
        }

        function endGame() {
            showScreen(endScreen);
            progressBar.style.width = '100%';
            finalScoreDisplay.textContent = `You scored ${score} out of ${questions.length}!`;
            finalScoreDisplay.classList.remove('text-green-600', 'text-yellow-600', 'text-red-600');
            
            saveScoreForm.classList.remove('hidden');
            endScreenNav.classList.add('hidden');

            if (score === questions.length) {
                finalScoreText.textContent = "Congratulations! You're a Legal Genius!";
                finalScoreDisplay.classList.add('text-green-600');
            } else if (score >= questions.length / 2) {
                finalScoreText.textContent = "Great Job! You're on your way to becoming a legal scholar!";
                finalScoreDisplay.classList.add('text-yellow-600');
            } else {
                finalScoreText.textContent = "Nice Try! Keep Studying!";
                finalScoreDisplay.classList.add('text-red-600');
            }
        }
        
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // --- Leaderboard Logic ---
        function getLeaderboard() {
            const leaderboard = localStorage.getItem(LEADERBOARD_KEY);
            return leaderboard ? JSON.parse(leaderboard) : [];
        }

        function saveScore(event) {
            event.preventDefault();
            const playerName = playerNameInput.value.trim();
            if (!playerName) return;

            const leaderboard = getLeaderboard();
            leaderboard.push({ name: playerName, score: score });
            leaderboard.sort((a, b) => b.score - a.score);
            const topScores = leaderboard.slice(0, 10);
            localStorage.setItem(LEADERBOARD_KEY, JSON.stringify(topScores));
            
            saveScoreForm.classList.add('hidden');
            endScreenNav.classList.remove('hidden');
            playerNameInput.value = '';
        }

        function displayLeaderboard() {
            const leaderboard = getLeaderboard();
            leaderboardList.innerHTML = ''; // Clear previous list

            if (leaderboard.length === 0) {
                leaderboardList.innerHTML = '<li class="text-center text-slate-500">No scores yet. Be the first!</li>';
            } else {
                leaderboard.forEach(entry => {
                    const li = document.createElement('li');
                    li.innerHTML = `<div class="flex justify-between items-center"><span class="font-semibold text-indigo-700">${entry.name}</span><span class="text-slate-600 font-bold">${entry.score} / ${totalQuestionsForQuiz}</span></div>`;
                    leaderboardList.appendChild(li);
                });
            }
            showScreen(leaderboardScreen);
        }

        // --- Event Listeners ---
        startBtn.addEventListener('click', startGame);
        restartBtn.addEventListener('click', startGame);
        saveScoreForm.addEventListener('submit', saveScore);
        leaderboardBtnStart.addEventListener('click', displayLeaderboard);
        leaderboardBtnEnd.addEventListener('click', displayLeaderboard);
        backToStartBtn.addEventListener('click', () => showScreen(startScreen));
    </script>

</body>
</html>

